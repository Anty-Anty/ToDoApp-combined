import{r as o,A as x,a as j,j as e,L as f}from"./index-CIvMLLIR.js";import{u as C,E as v}from"./http-hook-6ZUWGLCA.js";const S=()=>{const i=o.useContext(x),a=j().uid,{isLoading:d,error:u,sendRequest:n,clearError:m}=C(),[r,h]=o.useState(),[s,c]=o.useState("#ffd900");o.useEffect(()=>{(async()=>{try{const t=await n(`https://todoapp-backend-vqt1.onrender.com/api/users/${a}/userInfo`,"GET",null,{Authorization:"Bearer "+i.token});h({name:t.name,email:t.email,createdAt:t.createdAt}),c(t.userTitleColor||"#ffd900")}catch{}})()},[n,a]);const p=async(l=s)=>{try{await n(`https://todoapp-backend-vqt1.onrender.com/api/users/${a}/color`,"PATCH",JSON.stringify({userTitleColor:s}),{"Content-Type":"application/json",Authorization:"Bearer "+i.token})}catch{}};return e.jsxs(e.Fragment,{children:[e.jsx(v,{error:u,onClear:m}),d&&e.jsx(f,{asOverlay:!0}),r&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"user-set-container",children:[e.jsxs("div",{className:"user-set-item",children:[e.jsx("span",{className:"phantom"}),e.jsx("h1",{children:"User information"}),e.jsxs("p",{children:["User name: ",r.name]}),e.jsxs("p",{children:["Email: ",r.email]}),e.jsxs("p",{children:["Joined:"," ",new Date(r.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),e.jsxs("div",{className:"user-set-item",children:[e.jsx("span",{className:"phantom"}),e.jsx("h1",{children:"Custom item color"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"colorPicker",children:"Pick color: "}),e.jsx("input",{id:"colorPicker",type:"color",value:s,onChange:l=>c(l.target.value)})]}),e.jsx("button",{onClick:()=>c("#ffd900"),className:"user-set-text-button",style:{"--user-title-color":s},children:"Set to default color"}),e.jsxs("p",{children:["Selected color: ",e.jsx("span",{style:{color:s},children:s})]}),e.jsx("button",{className:"user-set-save-button",onClick:p,children:"Save Color"})]})]})})]})};export{S as default};
